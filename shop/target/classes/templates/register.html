<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>register</title>
    <base th:href="${#request.getContextPath()}+'/'">
    <link  th:href="@{static/css/bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{static/font-awesome/css/font-awesome.css}" rel="stylesheet">
    <link th:href="@{static/css/animate.css}" rel="stylesheet">
    <link th:href="@{static/css/style.css}" rel="stylesheet">
</head>

<body class="gray-bg">

    <div class="middle-box text-center loginscreen   animated fadeInDown">
        <div style="margin: 160px 0;">
            <h3>register account</h3>
            <form class="m-t" role="form" id ="registerForm">
                <div class="form-group">
                    <input type="username" name="phone" class="form-control" placeholder="phone number" required="">
                </div>
                <div class="form-group">
                    <input type="password" name="password" id="password" class="form-control" placeholder="password" required="">
                </div>
                <div class="form-group">
                    <input type="password" name="repassword" id="password2" class="form-control" placeholder="repeat password" required="">
                </div>
                <button type="button" class="btn btn-primary block full-width m-b" id="registerBtn">register</button>
                <span id="registerInfo" style="color: red; margin-left: 20px;" ></span>
                <p class="text-muted text-center"><small>already have an account?</small></p>
                <a class="btn btn-sm btn-white btn-block" href="/">login</a>
            </form>
        </div>
    </div>

    <!-- Mainly scripts -->
    <script src="static/js/jquery-3.1.1.min.js"></script>
    <script>
        $(function(){
            $("#registerBtn").on("click",function(){
                $.post({
                    url:"/register",
                    dataType:"json",
                    data:$("#registerForm").serialize(),
                    success:function(res){
                        if(res=='201'){
                            $("#registerInfo").text("Please fill in your phone number or password! ");
                        }else if(res=='202'){
                            $("#registerInfo").text("The passwords entered twice do not match! ");
                        }else if(res=='203'){
                            $("#registerInfo").text("system error! ");
                        }else if(res=='204'){
                            $("#registerInfo").text("The phone number is duplicated, please try again! ");
                        }else if(res=='205'){
                            $("#registerInfo").text("The phone number is in the wrong format, please try again! ");
                        }else{
                            $("#registerInfo").text("registration success! ");
                        }
                    }
                })
            });
        })
    </script>
</body>

</html>
